<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:skia="clr-namespace:SkiaSharp.Views.Maui.Controls;assembly=SkiaSharp.Views.Maui.Controls"
             x:Class="Atrax.Pages.SignaturePad"
             BackgroundColor="White"
             Shell.NavBarIsVisible="False">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">

            
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Label Text="← Back"
                       Grid.Column="0"
                       FontSize="16"
                       TextColor="Black"
                       HorizontalOptions="Start"
                       VerticalOptions="Center">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnBackTapped"/>
                    </Label.GestureRecognizers>
                </Label>

                <Label Text="Clear"
                       Grid.Column="1"
                       FontSize="16"
                       TextColor="Black"
                       HorizontalOptions="End"
                       VerticalOptions="Center">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnClearTapped"/>
                    </Label.GestureRecognizers>
                </Label>
            </Grid>

            <!-- Signature Area -->
            <Frame BackgroundColor="#F2F2F2"
                   CornerRadius="8"
                   HasShadow="False"
                   HeightRequest="280"
                   WidthRequest="450"
                  BorderColor="#F2F2F2"
                   Padding="0">
                <Grid>
                    <skia:SKCanvasView x:Name="canvasView"
                                   PaintSurface="OnCanvasViewPaintSurface"
                                   EnableTouchEvents="True"
                                   Touch="OnCanvasViewTouch"
                                   BackgroundColor="Transparent" />
                    <BoxView HeightRequest="1"
                 BackgroundColor="#D0D0D0"
                 VerticalOptions="End"
                 HorizontalOptions="Fill"
                 Margin="10,0"/>
                    <Label Text="Sign above the line"
               FontSize="12"
               TextColor="Gray"
               HorizontalOptions="Center"
               VerticalOptions="End"
               Margin="0,0,0,8"/>
                </Grid>
            </Frame>

            

            
            <Label Text="Signed by"
                   FontSize="14" />
            <Entry x:Name="SignedByEntry"
                   Placeholder="Enter name"
                   BackgroundColor="#EFEFEF"
                   HeightRequest="40"/>

            <!-- Buttons -->
            <HorizontalStackLayout Spacing="20"
                                   Margin="0,30,0,0"
                                   HorizontalOptions="Center">
                <Button Text="Save"
                        BackgroundColor="Black"
                        TextColor="White"
                        CornerRadius="25"
                        WidthRequest="120"
                        HeightRequest="45"
                        FontSize="16"
                        Clicked="OnSaveClicked"/>

                <Button Text="Clear"
                        BackgroundColor="Gray"
                        TextColor="White"
                        CornerRadius="25"
                        WidthRequest="120"
                        HeightRequest="45"
                        FontSize="16"
                        Clicked="OnClearClicked"/>
            </HorizontalStackLayout>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
